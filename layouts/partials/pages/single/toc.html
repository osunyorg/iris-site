{{ $context := .context }}

{{ range first 1 .context.Params.contents }}
  {{ if eq .template "call_to_action" }}
    {{ partial "pages/single/custom-cta.html" (dict 
        "block" .
        "context" $context
      ) }}
  {{ end }}
{{ end }}

<nav class="toc toc-pages" id="nav-toc" aria-labelledby="toc-title">
  <ol>
    {{- if .context.Params.contents -}}
      {{- partial "blocks/toc.html" .context.Params.contents -}}
    {{- end -}}
  </ol>
</nav>
